#include "layout.h"
#include "settings.h"

PROGMEM const byte FLOOR_MAP[STRIP_PIXEL_COUNT]  = {
<%= all_leds.map(&:floor).map(&:index).join(',') %>
};

void mapFloorToLinear(byte * floor, byte * linear) {
  int f_led;
  int f,l;
  for(int l_led = 0; l_led < STRIP_PIXEL_COUNT; l_led++) {
    f_led = pgm_read_byte(&FLOOR_MAP[l_led]);

    f = 3 * f_led;
    l = 3 * l_led;

    linear[l + 2] = floor[f + 2];
    linear[l + 1] = floor[f + 1];
    linear[l + 0] = floor[f + 0];
  }
}

// vi:syntax=cpp
