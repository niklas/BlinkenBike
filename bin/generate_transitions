#!/usr/bin/env ruby

$:.unshift File.join(__FILE__, '../../gen/lib')

require 'transitions'

if $0 == __FILE__
  transitions = Transitions.glob('transitions/*.transition')
  File.open 'lib/Transitions/Transitions.h', 'w' do |h|
    h.puts transitions.header
  end
  File.open 'lib/Transitions/Transitions.cpp', 'w' do |cpp|
    cpp.puts transitions.implementation
  end
else
  raise "run as #{$0}"
end
